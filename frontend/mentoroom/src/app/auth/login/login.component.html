<div class="animated-svg-background">
  <svg
    width="100%"
    height="100%"
    viewBox="0 0 100 100"
    xmlns="http://www.w3.org/2000/svg"
    preserveAspectRatio="xMidYMid slice"
  >
    <image
      xlink:href="/assets/hero-background.svg"
      width="100%"
      height="100%"
    />
  </svg>
  <div class="container">
    <p-card header="Sign In" class="ui-card-title">
      <form
        *ngIf="!isLoading"
        class="login-form"
        [formGroup]="signinForm"
        (ngSubmit)="onSubmit()"
      >
        <div class="form-control">
          <label for="email">Email</label>
          <input
            [style]="{ width: '100%' }"
            class="form-input"
            pInputText
            formControlName="email"
            id="email"
            aria-describedby="email-help"
          />
          <span
            *ngIf="
              !signinForm.get('email').valid && signinForm.get('email').touched
            "
          >
            <small
              id="email-help"
              *ngIf="signinForm.get('email').errors['email']"
              >Please enter a valid email</small
            >
            <small
              id="email-help"
              *ngIf="signinForm.get('email').errors['required']"
              >Email is required</small
            >
          </span>
        </div>

        <div class="form-control">
          <label for="password">Password</label>
          <p-password
            aria-describedby="password-help"
            formControlName="password"
            [inputStyle]="{ width: '100%' }"
            [style]="{ width: '100%' }"
            id="password"
            [toggleMask]="true"
            [feedback]="false"
          >
          </p-password>

          <span
            *ngIf="
              !signinForm.get('password').valid &&
              signinForm.get('password').touched
            "
          >
            <small
              id="password-help"
              *ngIf="signinForm.get('password').errors['required']"
              >Password is required</small
            >
          </span>
        </div>

        <span *ngIf="errorMessage">
          <small>{{ errorMessage }}</small>
        </span>

        <button [disabled]="!signinForm.valid" class="btn-cta" type="submit">
          Login
        </button>
        <p>Don't have an Account? <a routerLink="/sign-up">Sign up here</a></p>
      </form>
      <div
        [style]="{
        display: 'flex',
        justifyContent: 'center',
        alignItems: 'center',
        width: '450px',
        height: '233px',
        paddingBottom: '50px',
      }"
        *ngIf="isLoading"
      >
        <app-loading-spinner></app-loading-spinner>
      </div>
    </p-card>

    <img src="../../../assets/login-image.svg" />
  </div>
</div>
